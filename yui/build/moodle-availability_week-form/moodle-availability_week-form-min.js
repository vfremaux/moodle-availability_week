YUI.add("moodle-availability_week-form",function(e,t){M.availability_week=M.availability_week||{},M.availability_week.form=e.Object(M.core_availability.plugin),M.availability_week.form.weeks=null,M.availability_week.form.initInner=function(e){this.weeks=e},M.availability_week.form.getNode=function(t){var n=M.str.availability_week,r='<span class="availability-group"><label>'+n.conditiontitle;r+=' <select name="field">',r+='<option value="choose">'+M.str.moodle.choosedots+"</option>";var i;for(var s=0;s<this.weeks.length;s++)i=this.weeks[s],r+='<option value="w_'+i.field+'">'+i.display+"</option>";r+="</select></label></span>";var o=e.Node.create("<span>"+r+"</span>");t.w!==undefined&&o.one("select[name=field] > option[value=w_"+t.w+"]")&&o.one("select[name=field]").set("value","w_"+t.w);if(!M.availability_week.form.addedEvents){M.availability_week.form.addedEvents=!0;var u=function(e){var t=e.ancestor("span.availability_week"),n=t.one("select[name=op]"),r=n.get("value")==="isempty"||n.get("value")==="isnotempty";t.one("input[name=value]").set("disabled",r),M.core_availability.form.update()},a=e.one("#fitem_id_availabilityconditionsjson");a.delegate("change",function(){u(this)},".availability_week select"),a.delegate("change",function(){u(this)},".availability_week input[name=value]")}return o},M.availability_week.form.fillValue=function(e,t){var n=t.one("select[name=field]").get("value");n.substr(0,3)==="w_"&&(e.w=n.substr(3))}},"@VERSION@",{requires:["base","node","event","io","moodle-core_availability-form"]});
