YUI.add("moodle-availability_week-form",function(a,b){M.availability_week=M.availability_week||{},M.availability_week.form=a.Object(M.core_availability.plugin),M.availability_week.form.weeks=null,M.availability_week.form.initInner=function(a){this.weeks=a},M.availability_week.form.getNode=function(b){for(var e,c=M.str.availability_week,d='<span class="availability-group"><label>'+c.conditiontitle+' <select name="field"><option value="choose">'+M.str.moodle.choosedots+"</option>",f=0;f<this.weeks.length;f++)e=this.weeks[f],d+='<option value="w_'+e.field+'">'+e.display+"</option>";d+="</select></label></span>";var g=a.Node.create("<span>"+d+"</span>");if(void 0!==b.w&&g.one("select[name=field] > option[value=w_"+b.w+"]")&&g.one("select[name=field]").set("value","w_"+b.w),!M.availability_week.form.addedEvents){M.availability_week.form.addedEvents=!0;var h=function(a){var b=a.ancestor("span.availability_week"),c=b.one("select[name=op]"),d="isempty"===c.get("value")||"isnotempty"===c.get("value");b.one("input[name=value]").set("disabled",d),M.core_availability.form.update()},i=a.one("#fitem_id_availabilityconditionsjson");i.delegate("change",function(){h(this)},".availability_week select"),i.delegate("change",function(){h(this)},".availability_week input[name=value]")}return g},M.availability_week.form.fillValue=function(a,b){var c=b.one("select[name=field]").get("value");"w_"===c.substr(0,3)&&(a.w=c.substr(3))}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});